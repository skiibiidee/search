<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="h-screen w-screen bg-gradient-to-br from-purple-950 via-black to-blue-950 text-white flex flex-col">
  <!-- Header -->
  <header class="flex justify-between items-center p-4">
    <div id="time" class="text-xl font-mono"></div>
    <div id="greeting" class="text-lg font-semibold"></div>
  </header>

  <!-- Ping Info -->
  <div id="systemInfo" class="absolute top-16 right-4 text-sm text-gray-400">
    <span id="ping">Ping: ...</span>
    
  </div>
  

  <!-- Main -->
  <main class="flex flex-col items-center justify-center flex-grow space-y-6">
    <!-- Search box -->
    <div class="flex items-center bg-white/10 backdrop-blur-md rounded-2xl shadow-lg overflow-hidden w-96">
      <input 
        id="searchInput" 
        type="text" 
        placeholder="Enter a website or search..." 
        class="flex-grow bg-transparent outline-none p-3 text-white placeholder-gray-400"
      />
      <button 
        id="searchBtn" 
        class="px-2 py-4 bg-gradient-to-r from-pink-600 to-purple-700 font-bold disabled:opacity-40 disabled:cursor-not-allowed transition-all rounded-r-2xl"
        disabled
      >
        Search
      </button>
    </div>

    <!-- Extra action buttons -->
    <div class="flex space-x-4">
      <button id="searchGoogleBtn" class="px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition shadow">
        üîç Google Search
      </button>
      <button id="goToSiteBtn" class="px-4 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition shadow">
        üåê Go to Site
      </button>
      <button id="fileLoaderBtn" class="p-2 rounded-full bg-white/10 hover:bg-white/20 transition" title="Open HTML File">
        üìÇ
      </button>
      <input type="file" id="fileInput" accept=".html" class="hidden">
    </div>

    <!-- Quick links -->
    <div class="grid grid-cols-3 gap-6 mt-6 text-center">
      <div>
        <button onclick="goToSite('https://www.google.com')" class="p-3 rounded-xl bg-white/10 hover:bg-white/20 transition shadow flex justify-center">
          <img src="https://www.google.com/favicon.ico" class="w-6 h-6">
        </button>
        <div class="mt-2 text-sm text-gray-300">Google</div>
      </div>
      <div>
        <button onclick="goToSite('https://www.youtube.com')" class="p-3 rounded-xl bg-white/10 hover:bg-white/20 transition shadow flex justify-center">
          <img src="https://www.youtube.com/favicon.ico" class="w-6 h-6">
        </button>
        <div class="mt-2 text-sm text-gray-300">YouTube</div>
      </div>
      <div>
        <button onclick="goToSite('https://www.instagram.com')" class="p-3 rounded-xl bg-white/10 hover:bg-white/20 transition shadow flex justify-center">
          <img src="https://www.instagram.com/favicon.ico" class="w-6 h-6">
        </button>
        <div class="mt-2 text-sm text-gray-300">Instagram</div>
      </div>
    </div>
  </main>

  <!-- Loading overlay -->
  <div id="loadingScreen" class="fixed inset-0 hidden bg-gradient-to-br from-gray-950 via-black to-gray-900 flex flex-col justify-end">
    <div class="w-full h-2 bg-white/10">
      <div class="h-full bg-gradient-to-r from-pink-600 to-purple-700 animate-pulse"></div>
    </div>
  </div>

  <script>
    // ===== Time =====
    function updateTime() {
      const now = new Date();
      document.getElementById("time").textContent = now.toLocaleTimeString();
    }
    setInterval(updateTime, 1000);
    updateTime();

    // ===== Greeting =====
    const greeting = document.getElementById("greeting");
    if (localStorage.getItem("anyname")) {
      greeting.textContent = "Welcome back!";
    } else {
      greeting.innerHTML = '<span class="bg-gradient-to-r from-pink-400 via-purple-400 to-indigo-400 bg-clip-text text-transparent">Go anywhere in a galaxy</span>';
      localStorage.setItem("anyname", "true");
    }

    // ===== Search Logic =====
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");
    const searchGoogleBtn = document.getElementById("searchGoogleBtn");
    const goToSiteBtn = document.getElementById("goToSiteBtn");

    searchInput.addEventListener("input", () => {
      searchBtn.disabled = !searchInput.value.trim();
    });

    // Smart search button (Google if not URL)
    searchBtn.addEventListener("click", () => {
      let url = searchInput.value.trim();
      if (!url.startsWith("http")) url = "https://www.google.com/search?q=" + encodeURIComponent(url);
      goToSite(url);
    });

    // Force Google Search
    searchGoogleBtn.addEventListener("click", () => {
      const query = searchInput.value.trim();
      if (query) {
        goToSite("https://www.google.com/search?q=" + encodeURIComponent(query));
      }
    });

    // Force Go to Site
    goToSiteBtn.addEventListener("click", () => {
      let url = searchInput.value.trim();
      if (!url) return;
      if (!url.startsWith("http://") && !url.startsWith("https://")) {
        url = "https://" + url;
      }
      goToSite(url);
    });

    // ===== Loading + Redirect =====
    function goToSite(url) {
      const loading = document.getElementById("loadingScreen");
      loading.classList.remove("hidden");
      setTimeout(() => { window.location.href = url; }, 500);
    }

    // ===== Ping Test =====
    async function checkPing() {
      const start = performance.now();
      try {
        await fetch("https://www.google.com/generate_204", { mode: "no-cors" });
        const ms = Math.round(performance.now() - start);
        document.getElementById('ping').textContent = "Ping: " + ms + " ms";
      } catch {
        document.getElementById('ping').textContent = "No connection";
      }
    }
    setInterval(checkPing, 5000);
    checkPing();
    const fileBtn = document.getElementById('fileLoaderBtn');
    const fileInput = document.getElementById('fileInput');
    fileBtn.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (ev) => {
        const newWin = window.open();
        newWin.document.write(ev.target.result);
      };
      reader.readAsText(file);
    });
  </script>
</body>
</html>
